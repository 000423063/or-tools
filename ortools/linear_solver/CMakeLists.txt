ENABLE_LANGUAGE(CXX)
SET(ROOT_PROJECT ${PROJECT_NAME})
PROJECT(${PROJECT_NAME}_linear_solver)

FILE(GLOB ${PROJECT_NAME}_SOURCES "*.cc")

IF(BUILD_PYTHON)
    PROTOBUF_GENERATE_PYTHON(PY_PROTO_SRCS linear_solver.proto)
ENDIF(BUILD_PYTHON)

ADD_LIBRARY(${PROJECT_NAME} OBJECT ${${PROJECT_NAME}_SOURCES})
SET_TARGET_PROPERTIES(${PROJECT_NAME} PROPERTIES POSITION_INDEPENDENT_CODE ON)

ADD_DEPENDENCIES(${PROJECT_NAME} ${ROOT_PROJECT}Proto)